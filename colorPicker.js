const canvas = document.querySelector('canvas');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
const ctx = canvas.getContext('2d');
const mouse = {
    x: undefined,
    y: undefined
}
const div = document.createElement('div');
div.style = 'width:200px;height:50px';
document.body.append(div);
const image = new Image();
image.src = 'data:image/jpeg;base64,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';
ctx.drawImage(image, 0, 0, 800, 600);
const data = ctx.getImageData(0, 0, 800, 600).data;


document.addEventListener('mousemove', ({x, y}) => {
    mouse.x = x;
    mouse.y = y;
    const data = ctx.getImageData(x, y, 1, 1).data;
    div.style.background = `rgba(${data[0]},${data[1]},${data[2]},${data[3] / 255})`;
    console.log();
})

